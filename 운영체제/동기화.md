## ***1. Thread-safe***
 - Thread safe는 멀티 스레드 프로그래밍 환경에서 일반적으로 어떤 자원(함수, 변수, 객체)이 여러 스레드로부터 동시에 접근이 이루어져도 프로그램의 실행에 문자가 없는 것을 의미
 - Thread-safe한 코드를 만들기 위해서는 Critical Session(Section?)을 통해 스레드 내부에서 처리되는 연산들을 직렬화하여 한 번에 한 스레드에서 연산이 수행되도록 만들어 주어야 한다.

> ## 🚩Crtical Section(임계 영역)  
> 동시 접근하려고 하는 포커싱된 자원에서 문제가 발생하지 않게 독점을 보장해줘야 하는 영역을 의미  
> 이 crtical section 동시 접근 문제를 해결하기 위한 방법으로 lock, semaphore, monitor가 존재

## ***2. Lock***
### 2.1 정의
- 하나의 스레드(프로세스)가 공유 자원(shared memory)에서 작업을 수행을 하면 Lock을 걸어 다른 스레드(프로세스)가 해당 자원에 접근하지 못하게 하는 방법
- 주로 멀티 스레드 환경에서 자주 발생한다 -> 프로세스에서는 share memory가 아닌 messaging passing 방법이 존재

### 2.2 특징
- spinlock(=busy-wait)으로 Lock을 조정
- 하나의 스레드가 공유 자원에 접속 후 Lock을 걸면 다른 스레드는 해당 자원에 접근하지 못하게 while문에 같히게 한다
  - while문에 계속 같이게 하기 때문에 spinlock이라고 하며, 또한 의미없는 코드를 반복수행하면서 죽치고 있기 때문에 busy-waits이라고 불린다.
- 참고 URL = https://jhnyang.tistory.com/36
### 2.3 문제점
  - 위에서 while문에 대한 인자 자체가 critical Section이 되어버려 동시 접근이 허용되는 경우가 발생
### 2.4 해결 조건?
- 다음과 같은 3가지 조건을 충족시켜주면 문제가 해결
  1. 상호배제가 보존되어야 한다.
  2. critical section에 어떤 스레드의 접근도 없을 때 항상 접근이 가능해야 한다.
  3. 모든 프로세스가 critical section에 들어가기 위한 기회를 가질 수 있어야 한다 -> 기아 현상이 없어야 한다.
### 2.5 해결방법 종류
- 크게 3가지가 존재
  1. [소프트웨어 알고리즘](./피터슨알고리즘.md)
  2. 더 이상 쪼개지지 않는 하드웨어 명령어로 구현방법
  3. 인터럽트를 disable하고 enable하는 방법
- 사실 여기서 1번 방법은 느려서 현재는 사용하지 않지만 공부하는 의의가 있다.


## ***2. Semaphore***
- 세마포어는 공유자원의 개수를 나타내는 변수라고 생각하면 쉽다.
  - 5면 사용 가는 자원이 5개, 0이면 사용 가능 자원이 0개라는 의미
  - 반대로 Lock의 경우에는 0일 때 누군가 사용가능하고 1이 되면 다른 사람들은 사용 못한다. 